<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Swap - NUUR-SDA DEX</title>
  <link rel="stylesheet" href="dex.css" />
  <style>
    /* Inline for demo: you can move to dex.css */
    .slippage-slider-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 14px;
      margin-bottom: 10px;
    }
    .slippage-slider {
      flex: 1;
      accent-color: #3498db;
      height: 4px;
    }
    .slippage-value {
      min-width: 56px;
      text-align: right;
      font-family: monospace;
      font-size: 15px;
      color: #2980b9;
      background: #f5f6fa;
      padding: 4px 8px;
      border-radius: 8px;
      border: none;
      outline: none;
      margin-left: 8px;
    }
    .slippage-value[readonly] {
      background: #f5f6fa;
      border: none;
    }
    .slippage-label {
      font-size: 14px;
      color: #555;
      font-weight: 500;
      margin-right: 7px;
    }
    .header-logo-name {
      display: flex;
      align-items: center;
      gap: 12px;
      justify-content: center;
      margin-bottom: 20px;
    }
    .header-logo-img {
      width: 38px;
      height: 38px;
      border-radius: 50%;
      box-shadow: 0 2px 8px #0001;
      object-fit: cover;
      background: #fff;
    }
    .header-logo-text {
      font-size: 23px;
      font-weight: 700;
      color: #222;
      letter-spacing: 1px;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header and Nav -->
    <div class="dex-header">
      <div class="header-logo-name">
        <img src="logo.png" alt="DEX Logo" class="header-logo-img">
        <span class="header-logo-text">NUUR-SDA DEX</span>
      </div>
      <nav>
        <a href="swap.html" class="nav-btn active" id="swapNav">Swap</a>
        <a href="liquidity.html" class="nav-btn" id="liquidityNav">Liquidity</a>
      </nav>
      <div class="wallet-info">
        <button id="connectWallet">Connect Wallet</button>
        <span id="walletAddress"></span>
      </div>
    </div>
    <main>
      <!-- Swap View -->
      <div class="swap-box">
        <div class="input-container">
          <div class="token-input">
            <input type="number" id="fromAmount" placeholder="0.0" min="0" step="any">
            <div class="token-selector">
              <img id="fromTokenLogo" src="sidra.png" alt="SDA" class="token-logo">
              <span id="fromTokenSymbol">SDA</span>
            </div>
          </div>
          <div class="token-balance">
            Balance: <span id="fromTokenBalance">0.00</span>
          </div>
        </div>
        <button id="switchTokens" title="Switch tokens" style="margin: 16px auto 8px auto;display:flex;">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <path d="M12 4L12 20M12 4L8 8M12 4L16 8M12 20L8 16M12 20L16 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        <div class="input-container">
          <div class="token-input">
            <input type="number" id="toAmount" placeholder="0.0" readonly>
            <div class="token-selector">
              <img id="toTokenLogo" src="logo.png" alt="NUUR" class="token-logo">
              <span id="toTokenSymbol">NUUR</span>
            </div>
          </div>
          <div class="token-balance">
            Balance: <span id="toTokenBalance">0.00</span>
          </div>
        </div>
        
        <div class="swap-info">
          <div class="rate">
            1 <span id="fromTokenSymbolRate">SDA</span> = <span id="exchangeRate">0.00</span> <span id="toTokenSymbolRate">NUUR</span>
          </div>
        </div>
        <!-- Slippage Slider -->
        <div class="slippage-slider-container">
          <span class="slippage-label">Slippage</span>
          <input 
            type="range" 
            id="slippageSlider" 
            class="slippage-slider" 
            min="0.05" max="3.0" step="0.01" 
            value="0.05" 
            list="slippage-marks"
          >
          <datalist id="slippage-marks">
            <option value="0.05" label="0.05%"></option>
            <option value="0.1" label="0.1%"></option>
            <option value="0.3" label="0.3%"></option>
            <option value="1.5" label="1.5%"></option>
            <option value="3.0" label="3%"></option>
          </datalist>
          <input 
            id="slippageInput" 
            class="slippage-value" 
            type="number" 
            step="0.01" 
            min="0.01" max="3.0" 
            value="0.05"
            style="width:65px;"
          >%
        </div>
        <button id="swapButton" class="action-button" disabled>Connect Wallet to Swap</button>
      </div>
    </main>
    <div class="error-message" id="errorMessage"></div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.4.7/dist/ethers.umd.min.js"></script>
  <script src="swap.js"></script>
</body>
</html>
